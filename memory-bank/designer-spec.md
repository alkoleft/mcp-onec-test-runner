
DESIGNER <Общие параметры запуска>  [<Параметры пакетного режима>]  — запуск системы 1С:Предприятие 8 в режиме "Конфигуратор".



Общие параметры запуска
В данном разделе приводятся общие параметры запуска:
Указание параметров подключения
/F,
/IBConnectionString,
/IBName,
/O,
/S,
/WS,
/SLev,
/Z.

Настройка аутентификации
/Authoff,
/N,
/NoProxy,
/OIDA,
/P,
/Proxy,
/SAOnRestart,
/WA,
/WSA,
/WSN,
/WSP.

Определение режима запуска
/AppArch,
/AppAutoCheckVersion,
/AppAutoCheckMode ,
/MainWindowMode,
/RunModeManagedApplication,
/RunModeOrdinaryApplication.

Прочие параметры

/C <строка текста> — передача параметра в прикладное решение. Для доступа к параметру из встроенного языка используется свойство глобального контекста ПараметрЗапуска.
/ClearCache,
/DisableStartupDialogs,
/DisableStartupMessages,
/DisplayUserNotificationList,
/Execute,
/Out,
/RunShortcut,
/TComp,
/UC,
/URL,
/UseHwLicenses,
/UsePrivilegedMode.


## Параметры запуска конфигуратора в пакетном режиме

Строка запуска системы "1С:Предприятие" в режиме Конфигуратор имеет вид:
1cv8 DESIGNER [<параметры запуска>]
Коды возврата
Команды пакетного режима запуска возвращают один из следующих кодов возврата:
0 - команда выполнена успешно.
1 - при выполнении команды произошла ошибка.
101 - при выполнении команды обнаружены ошибки в данных.

## Команда LoadConfigFromFiles
/LoadConfigFromFiles <каталог загрузки> [-Extension <имя расширения>]
[-AllExtensions][-files "<файлы>"][-partial][-listFile <файл списка>][-format <режим>] [-updateConfigDumpInfo]
[-NoCheck][-Archive <имя ZIP-архива>]
— загрузка конфигурации из файлов. Загрузка расширения в основную конфигурацию (и наоборот) не поддерживается. Допустимо использование следующих параметров:
<каталог загрузки> — каталог, содержащий XML-файлы конфигурации;
-Extension <Имя расширения> — обработка расширения с указанным именем. Если расширение успешно обработано возвращает код возврата 0, в противном случае (если расширение с указанным именем не существует или в процессе работы произошли ошибки) — 1;
Важно! Если указанное расширение подключено к хранилищу, возможна только частичная загрузка, если соответствующие объекты были захвачены в хранилище.
-AllExtensions — загрузка только расширений (всех). Если требуемое расширение не существует, оно будет создано. Для каждого подкаталога указанного каталога будет выполнена попытка создать расширение. При попытке загрузить расширение в основную конфигурацию или наоборот, будет выведена ошибка.
-files — содержит список файлов, которые требуется загрузить. Список разделяется запятыми. Не используется, если указан параметр -listFile. При запуске в режиме агента путь к загружаемым файлам должен быть относительным.
-partial — указывает, что будет выполнена загрузка только файлов, указанных в параметре -files:
                - отдельно файла описания объекта метаданных (без его внешних свойств),
                - отдельно файла внешнего свойства,
                - отдельно файла модуля формы (без файла описания самой формы).
-listFile — указывает файл, в котором перечислены файлы, которые требуется загрузить. Не используется, если указан параметр -files. Если указаны одновременно параметры -files и -listfile, используется параметр, который в командной строке указан первым. При запуске в режиме агента путь к загружаемым файлам должен быть относительным.
               Указываемый файл должен удовлетворять следующим требованиям:
                 - Файл должен быть в кодировке UTF-8. 
                 - Имена файлов должны быть указаны через перенос (поддерживаются символы переноса \r\n ("следующая строка") и \r ("возврат каретки")).
                 - Файл не должен содержать пустые строки между именами файлов.
-format — используется для частичной загрузки. Указывает формат загрузки файлов. По умолчанию загрузка производится в иерархическом формате:
               Hierarchical — загрузка выполняется в иерархическом формате. 
               Plain — загрузка выполняется в линейном формате.
-updateConfigDumpInfo — указывает, что в конце загрузки в каталоге будет создан файл версий ConfigDumpInfo.xml, соответствующий загруженной конфигурации. Если выполняется частичная загрузка (используется параметр -files или -listFile), файл версий будет обновлен.
-NoCheck — указывает, что при загрузке конфигурации не требуется проводить проверку целостности загружаемой конфигурации.
-Archive  — содержит имя ZIP-архива, из которого будет выполнена загрузка файлов. Для успешного выполнения команды требуется либо каталог загрузки, либо данный параметр.


## Команда UpdateDBCfg
/UpdateDBCfg [–Dynamic<Режим>] [-BackgroundStart] [-BackgroundCancel]
[-BackgroundFinish [-Visible]] [-BackgroundSuspend] [-BackgroundResume] 
[-WarningsAsErrors] [-Server [-v1|-v2]][-Extension <Имя расширения>] 
[-SessionTerminate <Режим>] 
— динамическое (когда возможно) обновление конфигурации базы данных.
-Dynamic<Режим> — признак использования динамического обновления. Режим может принимать следующие значения
-Dynamic+ — Значение параметра по умолчанию. Сначала выполняется попытка динамического обновления, если она завершена неудачно, будет запущено фоновое обновление.
-Dynamic–  — Динамическое обновление запрещено.
-BackgroundStart [-Dynamic<Режим>] — будет запущено фоновое обновление конфигурации, текущий сеанс будет завершен. Если обновление уже выполняется, будет выдана ошибка. 
-Dynamic+ — Значение параметра по умолчанию. Сначала выполняется попытка динамического обновления, если она завершена неудачно, будет запущено фоновое обновление.
-Dynamic–  — Динамическое обновление запрещено.
-BackgroundCancel — отменяет запущенное фоновое обновление конфигурации базы данных. Если фоновое обновление не запущено, будет выдана ошибка.
-BackgroundFinish — запущенное фоновое обновление конфигурации базы данных будет завершено: при этом будет наложена монопольная блокировка и проведена финальная фаза обновления. Если фоновое обновление конфигурации не запущено или переход к завершающей фазе обновления не возможен, будет выдана ошибка. Возможно использование следующих параметров:
-Visible — На экран будет выведен диалоговое окно с кнопками Отмена, Повторить, Завершить сеансы и повторить. В случае невозможности завершения фонового обновления, если данная опция не указана, выполнение обновления будет завершено с ошибкой..
-BackgroundResume — продолжает фоновое обновление конфигурации базы данных, приостановленное ранее.
-BackgroundSuspend — приостанавливает фоновое обновление конфигурации на паузу. Если фоновое обновление не запущено, будет выдана ошибка.
-WarningsAsErrors —  все предупредительные сообщения будут трактоваться как ошибки.
-Server — обновление будет выполняться на сервере (имеет смысл только на сервере). Если параметр используется вместе с фоновым обновлением, то:
Фаза актуализации всегда выполняется на сервере.
Фаза обработки и фаза принятия изменения могут выполняться как на клиенте, так и на сервере.
Допускается запуск фонового обновления на стороне клиента, а завершение - на стороне сервера, и наоборот.
Не используется 2-я версия механизма реструктуризации (игнорируется параметр -v2, если таковой указан).
Если не указана версия механизма реструктуризации (-v1 или -v2), то будет использоваться механизм реструктуризации той версии, которая указана в файле conf.cfg. В противном случае будет использована указанная версия механизма. Если указана 2-я версия механизма реструктуризации, но использование этой версии конфликтует с другими параметрами – будет использована 1-я версия.
-Extension <Имя расширения> — будет выполнено обновление расширения с указанным именем. Если расширение успешно обработано возвращает код возврата 0, в противном случае (если расширение с указанным именем не существует или в процессе работы произошли ошибки) — 1.
-SessionTerminate <Режим> — признак завершения всех активных сеансов в случае необходимости установки эксклюзивной блокировки информационной базы:
-SessionTerminate disable — не использовать завершение сеансов (используется по умолчанию).
-SessionTerminate force — принудительно завершать сеансы.

Параметр /UpdateDBCfg допускается  указывать после следующих параметров:
/LoadCfg — загрузка конфигурации из файла;
/UpdateCfg — обновление конфигурации, находящейся на поддержке;
/ConfigurationRepositoryUpdateCfg — обновление конфигурации из хранилища;
/LoadConfigFiles — загрузка файлов конфигурации;
/LoadConfigFromFiles — загрузка конфигурации из файлов;
/MobileAppUpdatePublication — обновление публикации мобильного приложения;
/MobileAppWriteFile — запись xml-файла мобильного приложения;
/MobileClientWriteFile  — запись xml-файла мобильного клиента;
/MobileClientDigiSign  — подпись мобильного клиента.

## Команда CheckCanApplyConfigurationExtensions

/CheckCanApplyConfigurationExtensions [-Extension <Имя расширения>] [-AllZones] [-Z <значения разделителей>]
— проверка применимости расширений.
Extension <Имя расширения> — проверка расширения с указанным именем с учетом всех ранее применяемых расширений. Если опция -Z не указана, выполняется проверка расширений, не используемых в разделенных данных. Если расширение с указанным именем не найдено, в файл вывода сообщений (указывается с помощью общего параметра \Out) будет выведено сообщение об ошибке.
AllZones — проверка выполняется для расширений во всех областях информационной базы.
Внимание! Не допускается использование опции совместно с указанием имени расширения или значений разделителей данных.
Z <значения разделителей> — установка разделителей при запуске проверки. Если опция не указана, проверка выполняется для расширений, не используемых в разделенных данных.

## Команда CheckConfig  
/CheckConfig [-ConfigLogIntegrity] [-IncorrectReferences] [-ThinClient] 
[-WebClient] [-MobileClient] [-Server] [-ExternalConnection] [-ExternalConnectionServer] 
[-MobileAppClient][-MobileAppServer] [-ThickClientManagedApplication] 
[-ThickClientServerManagedApplication] [-ThickClientOrdinaryApplication]
[-ThickClientServerOrdinaryApplication]  [-MobileClientDigiSign] [-DistributiveModules] 
[-UnreferenceProcedures] [-HandlersExistence] [-EmptyHandlers] 
[-ExtendedModulesCheck] [-CheckUseSynchronousCalls] [-CheckUseModality] [-UnsupportedFunctional] 
[-Extension <имя расширения>] [-AllExtensions]  
— централизованная проверка конфигурации. Доступны следующие параметры:
-ConfigLogIntegrity — проверка логической целостности конфигурации. Стандартная проверка, обычно выполняемая перед обновлением базы данных;
-IncorrectReferences — поиск некорректных ссылок. Поиск ссылок на удаленные объекты. Выполняется по всей конфигурации, включая права, формы, макеты, интерфейсы и т.д. Также осуществляется поиск логически неправильных ссылок;
-ThinClient — синтаксический контроль модулей для режима эмуляции среды управляемого приложения (тонкий клиент), выполняемого в файловом режиме;
-WebClient — синтаксический контроль модулей в режиме эмуляции среды веб-клиента;
-Server — синтаксический контроль модулей в режиме эмуляции среды сервера 1С:Предприятия;
-ExternalConnection — синтаксический контроль модулей в режиме эмуляции среды внешнего соединения, выполняемого в файловом режиме;
-ExternalConnectionServer — синтаксический контроль модулей в режиме эмуляции среды внешнего соединения, выполняемого в клиент-серверном режиме;
-MobileAppClient — синтаксический контроль модулей в режиме эмуляции среды мобильного приложения, выполняемого в клиентском режиме запуска;
-MobileAppServer — синтаксический контроль модулей в режиме эмуляции среды мобильного приложения, выполняемого в серверном режиме запуска;
-ThickClientManagedApplication — синтаксический контроль модулей в режиме эмуляции среды управляемого приложения (толстый клиент), выполняемого в файловом режиме;
-ThickClientServerManagedApplication — синтаксический контроль модулей в режиме эмуляции среды управляемого приложения (толстый клиент), выполняемого в клиент-серверном режиме;
-ThickClientOrdinaryApplication — синтаксический контроль модулей в режиме эмуляции среды обычного приложения (толстый клиент), выполняемого в файловом режиме;
-ThickClientServerOrdinaryApplication — синтаксический контроль модулей в режиме эмуляции среды обычного приложения (толстый клиент), выполняемого в клиент-серверном режиме;
-MobileClient — синтаксический контроль модулей в режиме эмуляции среды мобильного клиента;
-MobileClientDigiSign — проверка корректности подписи мобильного клиента;
-DistributiveModules — поставка модулей без исходных текстов. В случае, если в настройках поставки конфигурации для некоторых модулей указана поставка без исходных текстов, проверяется возможность генерации образов этих модулей;
-UnreferenceProcedures — поиск неиспользуемых процедур и функций. Поиск локальных (не экспортных) процедур и функций, на которые отсутствуют ссылки. В том числе осуществляется поиск неиспользуемых обработчиков событий;
-HandlersExistence — проверка существования назначенных обработчиков. Проверка существования обработчиков событий интерфейсов, форм и элементов управления;
-EmptyHandlers — поиск пустых обработчиков. Поиск назначенных обработчиков событий, в которых не выполняется никаких действий. Существование таких обработчиков может привести к снижению производительности системы;
-ExtendedModulesCheck — проверка обращений к методам и свойствам объектов "через точку" (для ограниченного набора типов); проверка правильности строковых литералов – параметров некоторых функций, таких как ПолучитьФорму();
-CheckUseSyncronousCalls — режим поиска использования в модулях синхронных методов. Параметр используется только вместе с параметром ExtendedModulesCheck;
-CheckUseModality — режим поиска использования в модулях методов, связанных с модальностью. Параметр используется только вместе с параметром -ExtendedModulesCheck;
-UnsupportedFunctional — выполняется поиск функциональности, которая не может быть выполнена на мобильном приложении. Проверка в этом режиме показывает:
наличие в конфигурации метаданных, классы которых не реализованы на мобильной платформе;
наличие в конфигурации планов обмена, у которых установлено свойство "Распределенная информационная база";
использование типов, которые не реализованы на мобильной платформе:
в свойствах "Тип" реквизитов метаданных, констант, параметров сеанса;
в свойстве "Тип параметра команды" метаданного "Команда";
в свойстве "Тип" реквизитов и колонок реквизита формы;
наличие форм с типом формы "Обычная";
наличие в форме элементов управления, которые не реализованы на мобильной платформе. Проверка не выполняется для форм, у которых свойство "Назначение" не предполагает использование на мобильном устройстве;
сложный состав рабочего стола (использование более чем одной формы).
-Extension <Имя расширения> — обработка расширения с указанным именем. Если расширение успешно обработано возвращает код возврата 0, в противном случае (если расширение с указанным именем не существует или в процессе работы произошли ошибки) — 1;
-AllExtensions — проверка всех расширений.

## Команда CheckModules
/CheckModules [-ThinClient] [-WebClient] [-Server] [-ExternalConnection]
[-ThickClientOrdinaryApplication] [-MobileAppClient] [-MobileAppServer] 
[-MobileClient][-ExtendedModulesCheck][-Extension <имя расширения>]
[-AllExtensions] 
— проверка модуля. Должен быть указан один или несколько параметров режимов проверки. Если параметры не указаны, проверка выполнена не будет.
-ThinClient — проверка в режиме работы тонкого клиента;
-WebClient — проверка в режиме работы веб-клиента;
-Server — проверка в режиме работы сервера 1С:Предприятия;
-ExternalConnection — проверка в режиме работы внешнего соединения;
-ThickClientOrdinaryApplication — проверка в режиме работы клиентского приложения;
-MobileAppClient — проверка в режиме работы клиента мобильного приложения;
-MobileAppServer — проверка в режиме работы сервера мобильного приложения;
-MobileClient — проверка в режиме работы мобильного клиента;
-ExtendedModulesCheck — проверка обращений к методам и свойствам объектов "через точку" (для ограниченного набора типов); проверка правильности строковых литералов – параметров некоторых функций, таких как ПолучитьФорму();
-Extension <имя расширения> — проверка расширения с указанным именем. Если расширение успешно обработано, возвращает код возврата 0, в противном случае (если расширение с указанным именем не существует или в процессе работы произошли ошибки) — 1;
-AllExtensions — проверка всех расширений.